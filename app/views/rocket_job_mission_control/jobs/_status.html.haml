%h3.inline-block= "#{@job.klass}##{@job.perform_method}"

.job-state.inline-block
  .left state
  .right{ class: job_class(@job) }
    = @job.state

- if @job.state == :failed
  .job-retry.inline-block
    = link_to "retry job", retry_job_path(@job), method: :post, class: 'btn btn-sm btn-default btn-retry'

.priority
  = form_for(@job, as: :job, url: job_path(@job), html: {method: :patch}) do |f|

    .input-group.spinner{ "data-id" => @job.id }
      = f.text_field(:priority, class: 'form-control')

      .input-group-btn-vertical
        %button.btn.btn-default.up{ type: 'button' }
          %i.fa.fa-caret-up

        %button.btn.btn-default.down{ type: 'button' }
          %i.fa.fa-caret-down

      = submit_tag "set", class: "btn btn-sm btn-primary priority-set"

.clearfix

.id
  %label ID:
  = @job.id
.created_at
  %label Created At:
  = @job.created_at

- @job.status.each_pair do |key, value|
  .status-message
    %label= "#{key.to_s.titleize}:"
    = value
.clearfix

.parameters
  %label Parameters:
  %div= @job.arguments
